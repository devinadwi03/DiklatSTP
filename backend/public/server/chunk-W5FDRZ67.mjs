import './polyfills.server.mjs';
import{$ as D,A as Me,Aa as sn,B as We,Ba as ot,C as Se,Ca as ln,D as Zt,Da as dn,E as d,F as y,G as Re,Ga as un,H as Ve,I as L,J as p,K as le,Ka as Pe,L as u,La as at,M as St,N as s,Na as x,O as a,Oa as st,P as F,Pa as cn,Q as k,Qa as pe,R as M,S as h,T as g,U as l,V as K,W as Be,X as C,Y as b,Z as w,_ as q,a as Kt,aa as Vt,b as Ye,ba as Xt,c as Jt,d as I,da as Yt,e as N,f as ae,g as $t,h as Qe,ha as Qt,i as E,j as et,ja as en,k as be,l as se,la as Dt,m as tt,ma as De,n as X,na as de,o as G,oa as tn,p as nt,pa as Pt,q as we,r as A,ra as nn,s as B,sa as rt,t as V,ta as T,u as it,ua as j,v as P,va as me,w as Ue,wa as rn,x as _,xa as Y,y as v,ya as on,z as ce,za as an}from"./chunk-K2QQDPE5.mjs";import{a as z,b as re}from"./chunk-5XUXGTUW.mjs";var U=(()=>{let e=class e{constructor(t,i,o){this.http=t,this.router=i,this.platformId=o,this.apiUrl="http://localhost:5000",this.isRefreshing=!1,this.refreshTokenSubject=new Ye(null)}login(t){let i=`${this.apiUrl}/login`,o=new rn({"Content-Type":"application/json"});return this.http.post(i,t,{headers:o,withCredentials:!0}).pipe(se(()=>{console.log("Login successful")}),E(c=>(console.error("Login error:",c),N(c))))}logout(){return this.http.post(`${this.apiUrl}/logout`,{},{withCredentials:!0}).pipe(se(()=>{alert("Logout Berhasil!"),console.log("Logout successful")}),E(t=>{let i=t.status||0;return console.error("Logout error:",t),this.router.navigateByUrl("login").then(()=>{}),I({error:!0,status:i})}))}refreshToken(){return this.isRefreshing?this.refreshTokenSubject.pipe(Qe(t=>t!==null),et(1)):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.http.post(`${this.apiUrl}/refresh-token`,{},{withCredentials:!0}).pipe(be(t=>(this.isRefreshing=!1,this.refreshTokenSubject.next(t.accessToken),I(t.accessToken))),E(t=>(this.isRefreshing=!1,this.refreshTokenSubject.next(null),N(()=>t)))))}register(t){return this.http.post(`${this.apiUrl}/register`,t,{withCredentials:!0}).pipe(se(()=>{console.log("Registration successful")}),E(i=>(console.error("Registration error:",i),I(null))))}isLoggedIn(){return me(this.platformId)?this.http.get(`${this.apiUrl}/check-auth`,{withCredentials:!0}).pipe(se(t=>{console.log("check-auth response:",t)}),ae(t=>t.authenticated),E(t=>(console.error("check-auth error:",t.status),console.error("check-auth full error:",t),t.status===401?(console.warn("Unauthorized (401): Redirecting to login page"),this.router.navigate(["/login"])):t.status===403?(console.warn("Forbidden (403): Redirecting to access denied page"),this.router.navigate(["/access-denied"])):console.error("Unexpected error:",t.message),I(!1)))):I(!1)}getUserRole(){return this.http.get(`${this.apiUrl}/user-role`,{withCredentials:!0}).pipe(ae(t=>t.role),E(t=>(console.error("Error fetching user role:",t),I(""))))}getUserRegistrationStatus(){let t=`${this.apiUrl}/check-registration-status`;return this.http.get(t,{withCredentials:!0}).pipe(ae(i=>i.isRegistered))}getUsers(){return this.http.get(`${this.apiUrl}/getUsers`,{withCredentials:!0}).pipe(E(t=>(console.error("Error fetching pendaftar:",t),N(()=>new Error(`Error: ${t.status} - ${t.message}`)))))}getUserById(){return this.http.get(`${this.apiUrl}/getUserById`,{withCredentials:!0}).pipe(E(t=>(console.error("Error fetching user by ID:",t),N(()=>t))))}updateUser(t){return this.http.put(`${this.apiUrl}/updateUser`,t,{withCredentials:!0}).pipe(E(i=>(console.error("Error updating user:",i),N(()=>i))))}};e.\u0275fac=function(i){return new(i||e)(A(Y),A(x),A(Se))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var lt=(()=>{let e=class e{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe(be(o=>o?I(!0):(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url},replaceUrl:!0}),I(!1))),E(()=>(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url},replaceUrl:!0}),I(!1))))}};e.\u0275fac=function(i){return new(i||e)(A(U),A(x))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mn=(()=>{let e=class e{constructor(){this.title="angular-18-lagi"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=V({type:e,selectors:[["app-root"]],standalone:!0,features:[q([lt]),D],decls:1,vars:0,template:function(i,o){i&1&&F(0,"router-outlet")},dependencies:[pe,at]});let n=e;return n})();var wn=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(y(Re),y(We))},e.\u0275dir=P({type:e});let n=e;return n})(),vt=(()=>{let e=class e extends wn{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,features:[L]});let n=e;return n})(),Oe=new we("");var pi={provide:Oe,useExisting:X(()=>W),multi:!0};function hi(){let n=Pt()?Pt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var fi=new we(""),W=(()=>{let e=class e extends wn{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hi())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(y(Re),y(We),y(fi,8))},e.\u0275dir=P({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&M("input",function(m){return o._handleInput(m.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(m){return o._compositionEnd(m.target.value)})},features:[q([pi]),L]});let n=e;return n})();function he(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Mn(n){return n!=null&&typeof n.length=="number"}var ke=new we(""),yt=new we(""),gi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ee=class{static min(e){return _i(e)}static max(e){return vi(e)}static required(e){return xn(e)}static requiredTrue(e){return yi(e)}static email(e){return Ci(e)}static minLength(e){return kn(e)}static maxLength(e){return En(e)}static pattern(e){return bi(e)}static nullValidator(e){return ut(e)}static compose(e){return In(e)}static composeAsync(e){return An(e)}};function _i(n){return e=>{if(he(e.value)||he(n))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<n?{min:{min:n,actual:e.value}}:null}}function vi(n){return e=>{if(he(e.value)||he(n))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>n?{max:{max:n,actual:e.value}}:null}}function xn(n){return he(n.value)?{required:!0}:null}function yi(n){return n.value===!0?null:{required:!0}}function Ci(n){return he(n.value)||gi.test(n.value)?null:{email:!0}}function kn(n){return e=>he(e.value)||!Mn(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function En(n){return e=>Mn(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function bi(n){if(!n)return ut;let e,r;return typeof n=="string"?(r="",n.charAt(0)!=="^"&&(r+="^"),r+=n,n.charAt(n.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=n.toString(),e=n),t=>{if(he(t.value))return null;let i=t.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function ut(n){return null}function Sn(n){return n!=null}function Vn(n){return Yt(n)?Jt(n):n}function Dn(n){let e={};return n.forEach(r=>{e=r!=null?z(z({},e),r):e}),Object.keys(e).length===0?null:e}function Pn(n,e){return e.map(r=>r(n))}function wi(n){return!n.validate}function Fn(n){return n.map(e=>wi(e)?e:r=>e.validate(r))}function In(n){if(!n)return null;let e=n.filter(Sn);return e.length==0?null:function(r){return Dn(Pn(r,e))}}function Nt(n){return n!=null?In(Fn(n)):null}function An(n){if(!n)return null;let e=n.filter(Sn);return e.length==0?null:function(r){let t=Pn(r,e).map(Vn);return $t(t).pipe(ae(Dn))}}function Ut(n){return n!=null?An(Fn(n)):null}function pn(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Tn(n){return n._rawValidators}function jn(n){return n._rawAsyncValidators}function It(n){return n?Array.isArray(n)?n:[n]:[]}function ct(n,e){return Array.isArray(n)?n.includes(e):n===e}function hn(n,e){let r=It(e);return It(n).forEach(i=>{ct(r,i)||r.push(i)}),r}function fn(n,e){return It(e).filter(r=>!ct(n,r))}var mt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},ue=class extends mt{get formDirective(){return null}get path(){return null}},xe=class extends mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Mi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ca=re(z({},Mi),{"[class.ng-submitted]":"isSubmitted"}),H=(()=>{let e=class e extends pt{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(y(xe,2))},e.\u0275dir=P({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&St("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[L]});let n=e;return n})(),te=(()=>{let e=class e extends pt{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(y(ue,10))},e.\u0275dir=P({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&St("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[L]});let n=e;return n})();var Le="VALID",dt="INVALID",Ie="PENDING",Ge="DISABLED",fe=class{},ht=class extends fe{constructor(e,r){super(),this.value=e,this.source=r}},He=class extends fe{constructor(e,r){super(),this.pristine=e,this.source=r}},ze=class extends fe{constructor(e,r){super(),this.touched=e,this.source=r}},Ae=class extends fe{constructor(e,r){super(),this.status=e,this.source=r}},At=class extends fe{constructor(e){super(),this.source=e}},Tt=class extends fe{constructor(e){super(),this.source=e}};function Wt(n){return(Ct(n)?n.validators:n)||null}function xi(n){return Array.isArray(n)?Nt(n):n||null}function Rt(n,e){return(Ct(e)?e.asyncValidators:n)||null}function ki(n){return Array.isArray(n)?Ut(n):n||null}function Ct(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function On(n,e,r){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new tt(1e3,"");if(!t[r])throw new tt(1001,"")}function Nn(n,e,r){n._forEachChild((t,i)=>{if(r[i]===void 0)throw new tt(1002,"")})}var Te=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=De(()=>this.statusReactive()),this.statusReactive=Ve(void 0),this._pristine=De(()=>this.pristineReactive()),this.pristineReactive=Ve(!0),this._touched=De(()=>this.touchedReactive()),this.touchedReactive=Ve(!1),this._events=new Kt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return de(this.statusReactive)}set status(e){de(()=>this.statusReactive.set(e))}get valid(){return this.status===Le}get invalid(){return this.status===dt}get pending(){return this.status==Ie}get disabled(){return this.status===Ge}get enabled(){return this.status!==Ge}get pristine(){return de(this.pristineReactive)}set pristine(e){de(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return de(this.touchedReactive)}set touched(e){de(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fn(e,this._rawAsyncValidators))}hasValidator(e){return ct(this._rawValidators,e)}hasAsyncValidator(e){return ct(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(z({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new ze(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new ze(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(z({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new He(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new He(!0,t))}markAsPending(e={}){this.status=Ie;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ae(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(z({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ge,this.errors=null,this._forEachChild(i=>{i.disable(re(z({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ht(this.value,t)),this._events.next(new Ae(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(z({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Le,this._forEachChild(t=>{t.enable(re(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(z({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Le||this.status===Ie)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ht(this.value,r)),this._events.next(new Ae(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(z({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ge:Le}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Ie,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=Vn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,i)=>t&&t._find(i),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Ae(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Ge:this.errors?dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ie)?Ie:this._anyControlsHaveStatus(dt)?dt:Le}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),i=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new He(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new ze(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ct(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xi(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ki(this._rawAsyncValidators)}},je=class extends Te{constructor(e,r,t){super(Wt(r),Rt(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Nn(this,!0,e),Object.keys(e).forEach(t=>{On(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let i=this.controls[t];i&&i.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,i)=>{t.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,i)=>((t.enabled||this.disabled)&&(r[i]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((i,o)=>{t=r(t,i,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jt=class extends je{};var Je=new we("CallSetDisabledState",{providedIn:"root",factory:()=>bt}),bt="always";function Un(n,e){return[...e.path,n]}function ft(n,e,r=bt){Bt(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Si(n,e),Di(n,e),Vi(n,e),Ei(n,e)}function gn(n,e,r=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),_t(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gt(n,e){n.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Ei(n,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(r),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(r)})}}function Bt(n,e){let r=Tn(n);e.validator!==null?n.setValidators(pn(r,e.validator)):typeof r=="function"&&n.setValidators([r]);let t=jn(n);e.asyncValidator!==null?n.setAsyncValidators(pn(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();gt(e._rawValidators,i),gt(e._rawAsyncValidators,i)}function _t(n,e){let r=!1;if(n!==null){if(e.validator!==null){let i=Tn(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(c=>c!==e.validator);o.length!==i.length&&(r=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=jn(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(r=!0,n.setAsyncValidators(o))}}}let t=()=>{};return gt(e._rawValidators,t),gt(e._rawAsyncValidators,t),r}function Si(n,e){e.valueAccessor.registerOnChange(r=>{n._pendingValue=r,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Wn(n,e)})}function Vi(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Wn(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Wn(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Di(n,e){let r=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};n.registerOnChange(r),e._registerOnDestroy(()=>{n._unregisterOnChange(r)})}function Rn(n,e){n==null,Bt(n,e)}function Pi(n,e){return _t(n,e)}function Bn(n,e){if(!n.hasOwnProperty("model"))return!1;let r=n.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Fi(n){return Object.getPrototypeOf(n.constructor)===vt}function Ln(n,e){n._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Gn(n,e){if(!e)return null;Array.isArray(e);let r,t,i;return e.forEach(o=>{o.constructor===W?r=o:Fi(o)?t=o:i=o}),i||t||r||null}function Ii(n,e){let r=n.indexOf(e);r>-1&&n.splice(r,1)}var Ai={provide:ue,useExisting:X(()=>oe)},qe=Promise.resolve(),oe=(()=>{let e=class e extends ue{get submitted(){return de(this.submittedReactive)}constructor(t,i,o){super(),this.callSetDisabledState=o,this._submitted=De(()=>this.submittedReactive()),this.submittedReactive=Ve(!1),this._directives=new Set,this.ngSubmit=new Me,this.form=new je({},Nt(t),Ut(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qe.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ft(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qe.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qe.then(()=>{let i=this._findContainer(t.path),o=new je({});Rn(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qe.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){qe.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Ln(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(i){return new(i||e)(y(ke,10),y(yt,10),y(Je,8))},e.\u0275dir=P({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&M("submit",function(m){return o.onSubmit(m)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[q([Ai]),L]});let n=e;return n})();function _n(n,e){let r=n.indexOf(e);r>-1&&n.splice(r,1)}function vn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ke=class extends Te{constructor(e=null,r,t){super(Wt(r),Rt(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ct(r)&&(r.nonNullable||r.initialValueIsDefault)&&(vn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_n(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_n(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ti=n=>n instanceof Ke;var ji={provide:xe,useExisting:X(()=>J)},yn=Promise.resolve(),J=(()=>{let e=class e extends xe{constructor(t,i,o,c,m,f){super(),this._changeDetectorRef=m,this.callSetDisabledState=f,this.control=new Ke,this._registered=!1,this.name="",this.update=new Me,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Gn(this,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Bn(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ft(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){yn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&Dt(i);yn.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Un(t,this._parent):[t]}};e.\u0275fac=function(i){return new(i||e)(y(ue,9),y(ke,10),y(yt,10),y(Oe,10),y(en,8),y(Je,8))},e.\u0275dir=P({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[q([ji]),L,Ue]});let n=e;return n})(),ne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=P({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),Oi={provide:Oe,useExisting:X(()=>$e),multi:!0},$e=(()=>{let e=class e extends vt{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&M("input",function(m){return o.onChange(m.target.value)})("blur",function(){return o.onTouched()})},features:[q([Oi]),L]});let n=e;return n})();var qn=new we("");var Ni={provide:ue,useExisting:X(()=>Lt)},Lt=(()=>{let e=class e extends ue{get submitted(){return de(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,o){super(),this.callSetDisabledState=o,this._submitted=De(()=>this._submittedReactive()),this._submittedReactive=Ve(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_t(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return ft(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){gn(t.control||null,t,!1),Ii(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),Ln(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new At(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Tt(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,o=this.form.get(t.path);i!==o&&(gn(i||null,t),Ti(o)&&(ft(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Rn(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Pi(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bt(this.form,this),this._oldForm&&_t(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(y(ke,10),y(yt,10),y(Je,8))},e.\u0275dir=P({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&M("submit",function(m){return o.onSubmit(m)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[q([Ni]),L,Ue]});let n=e;return n})();var Ui={provide:xe,useExisting:X(()=>Gt)},Gt=(()=>{let e=class e extends xe{set isDisabled(t){}constructor(t,i,o,c,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new Me,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Gn(this,c)}ngOnChanges(t){this._added||this._setUpControl(),Bn(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Un(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(y(ue,13),y(ke,10),y(yt,10),y(Oe,10),y(qn,8))},e.\u0275dir=P({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[q([Ui]),L,Ue]});let n=e;return n})(),Wi={provide:Oe,useExisting:X(()=>Ne),multi:!0};function Hn(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Ri(n){return n.split(":")[0]}var Ne=(()=>{let e=class e extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),o=Hn(i,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Ri(t);return this._optionMap.has(i)?this._optionMap.get(i):t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&M("change",function(m){return o.onChange(m.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[q([Wi]),L]});let n=e;return n})(),wt=(()=>{let e=class e{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(y(We),y(Re),y(Ne,9))},e.\u0275dir=P({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),Bi={provide:Oe,useExisting:X(()=>zn),multi:!0};function Cn(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Li(n){return n.split(":")[0]}var zn=(()=>{let e=class e extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let o=t.map(c=>this._getOptionId(c));i=(c,m)=>{c._setSelected(o.indexOf(m.toString())>-1)}}else i=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let o=[],c=i.selectedOptions;if(c!==void 0){let m=c;for(let f=0;f<m.length;f++){let Z=m[f],ie=this._getOptionValue(Z.value);o.push(ie)}}else{let m=i.options;for(let f=0;f<m.length;f++){let Z=m[f];if(Z.selected){let ie=this._getOptionValue(Z.value);o.push(ie)}}}this.value=o,t(o)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Li(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&M("change",function(m){return o.onChange(m.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[q([Bi]),L]});let n=e;return n})(),Mt=(()=>{let e=class e{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Cn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Cn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(y(We),y(Re),y(zn,9))},e.\u0275dir=P({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();function Kn(n){return typeof n=="number"?n:parseInt(n,10)}var qt=(()=>{let e=class e{constructor(){this._validator=ut}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ut,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=P({type:e,features:[Ue]});let n=e;return n})();var Gi={provide:ke,useExisting:X(()=>$),multi:!0};var $=(()=>{let e=class e extends qt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Dt,this.createValidator=t=>xn}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&le("required",o._enabled?"":null)},inputs:{required:"required"},features:[q([Gi]),L]});let n=e;return n})();var qi={provide:ke,useExisting:X(()=>Ze),multi:!0},Ze=(()=>{let e=class e extends qt{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>Kn(t),this.createValidator=t=>kn(t)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&le("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[q([qi]),L]});let n=e;return n})(),Hi={provide:ke,useExisting:X(()=>Xe),multi:!0},Xe=(()=>{let e=class e extends qt{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>Kn(t),this.createValidator=t=>En(t)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ce(e)))(o||e)}})(),e.\u0275dir=P({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&le("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[q([Hi]),L]});let n=e;return n})();var Jn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({});let n=e;return n})(),Ot=class extends Te{constructor(e,r,t){super(Wt(r),Rt(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,t={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,r={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Nn(this,!1,e),e.forEach((t,i)=>{On(this,!1,i),this.at(i).setValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((t,i)=>{this.at(i)&&this.at(i).patchValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((t,i)=>{t.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,t)=>t._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,t)=>{e(r,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function bn(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $n=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let o=this._reduceControls(t),c={};return bn(i)?c=i:i!==null&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new je(o,c)}record(t,i=null){let o=this._reduceControls(t);return new jt(o,i)}control(t,i,o){let c={};return this.useNonNullable?(bn(i)?c=i:(c.validators=i,c.asyncValidators=o),new Ke(t,re(z({},c),{nonNullable:!0}))):new Ke(t,i,o)}array(t,i,o){let c=t.map(m=>this._createControl(m));return new Ot(c,i,o)}_reduceControls(t){let i={};return Object.keys(t).forEach(o=>{i[o]=this._createControl(t[o])}),i}_createControl(t){if(t instanceof Ke)return t;if(t instanceof Te)return t;if(Array.isArray(t)){let i=t[0],o=t.length>1?t[1]:null,c=t.length>2?t[2]:null;return this.control(i,o,c)}else return this.control(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var R=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Je,useValue:t.callSetDisabledState??bt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({imports:[Jn]});let n=e;return n})(),Zn=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:qn,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Je,useValue:t.callSetDisabledState??bt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({imports:[Jn]});let n=e;return n})();function zi(n,e){if(n&1){let r=k();s(0,"div")(1,"div",12)(2,"label",13),l(3,"Username"),a(),F(4,"input",14),a(),s(5,"div",12)(6,"label",15),l(7,"Password"),a(),F(8,"input",16),a(),s(9,"div",17)(10,"button",18),M("click",function(){_(r);let i=h();return v(i.onLogin())}),l(11,"Masuk"),a()(),s(12,"div",19)(13,"p"),l(14,"Belum memiliki akun? "),s(15,"a",20),M("click",function(){_(r);let i=h();return v(i.isLoginView=!1)}),l(16,"Daftar disini"),a()(),s(17,"p")(18,"a",20),M("click",function(){_(r);let i=h();return v(i.onForgotPassword())}),l(19,"Lupa Password?"),a()()()()}}function Ki(n,e){n&1&&(s(0,"div",33)(1,"span",34),l(2,"Password harus memiliki setidaknya 8 karakter, 1 huruf besar, 1 huruf kecil, 1 angka, dan 1 simbol."),a()())}function Ji(n,e){n&1&&(s(0,"div",33)(1,"span",34),l(2,"Password dan konfirmasi password tidak cocok."),a()())}function $i(n,e){if(n&1){let r=k();s(0,"div")(1,"div",12)(2,"label",21),l(3,"Email address"),a(),F(4,"input",22),a(),s(5,"div",12)(6,"label",23),l(7,"Nama Depan"),a(),F(8,"input",24),a(),s(9,"div",12)(10,"label",25),l(11,"Nama Belakang"),a(),F(12,"input",26),a(),s(13,"div",12)(14,"label",27),l(15,"Username"),a(),F(16,"input",28),a(),s(17,"div",12)(18,"label",15),l(19,"Password"),a(),F(20,"input",16),p(21,Ki,3,0,"div",29),a(),s(22,"div",12)(23,"label",30),l(24,"Konfirmasi Password"),a(),F(25,"input",31),p(26,Ji,3,0,"div",29),a(),s(27,"div",17)(28,"button",18),M("click",function(){_(r);let i=h();return v(i.onRegister())}),l(29,"Daftar"),a()(),s(30,"p",32),l(31,"Sudah memiliki akun? "),s(32,"a",20),M("click",function(){_(r);let i=h();return v(i.isLoginView=!0)}),l(33,"Login disini"),a()()()}if(n&2){let r,t,i=h();d(21),u("ngIf",((r=i.registerForm.get("password"))==null?null:r.touched)&&!i.passwordPattern.test((r=i.registerForm.get("password"))==null?null:r.value)),d(5),u("ngIf",(i.registerForm.errors==null?null:i.registerForm.errors.passwordMismatch)&&((t=i.registerForm.get("confPassword"))==null?null:t.touched))}}var Ht=(()=>{let e=class e{constructor(t,i){this.fb=t,this.route=i,this.isLoginView=!0,this.router=B(x),this.authService=B(U),this.userRegisterObj={username:"",password:"",confPassword:"",email:"",first_name:"",last_name:""},this.userLogin={identifier:"",password:""},this.passwordPattern=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%?&])[A-Za-z\d@$!%?&]{8,}$/,this.loginForm=this.fb.group({identifier:["",ee.required],password:["",ee.required]}),this.registerForm=this.fb.group({username:["",ee.required],password:["",[ee.required]],confPassword:["",[ee.required]],email:["",[ee.required,ee.email]],first_name:["",ee.required],last_name:["",ee.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let i=t.get("password")?.value,o=t.get("confPassword")?.value;return i===o?null:{passwordMismatch:!0}}onRegister(){this.registerForm.valid&&this.authService.register(this.registerForm.value).subscribe(t=>{alert("Pendaftaran sukses! Silakan cek email untuk Verifikasi!"),this.router.navigateByUrl("login").then(()=>{window.location.reload()})},t=>{alert("Pendaftaran gagal."),console.error(t)})}onLogin(){this.loginForm.valid&&this.authService.login(this.loginForm.value).subscribe(t=>{t?(alert("Login Berhasil!"),this.authService.getUserRole().subscribe(i=>{if(i==="admin"){let o=this.route.snapshot.queryParams.returnUrl||"account-list";this.router.navigateByUrl(o)}else if(i==="user"){let o=this.route.snapshot.queryParams.returnUrl||"home";this.router.navigateByUrl(o)}else alert("Role tidak dikenal")})):alert("Username atau password salah")},t=>{alert("Username atau password salah"),console.error("Login error:",t)})}onForgotPassword(){this.router.navigate(["/forgot-pwd"])}};e.\u0275fac=function(i){return new(i||e)(y($n),y(Pe))},e.\u0275cmp=V({type:e,selectors:[["app-login"]],standalone:!0,features:[D],decls:15,vars:4,consts:[[1,"vh-100",2,"background-color","#BA181B"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem","max-width","700px","margin","auto"],[1,"row","g-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[1,"fw-bold","mb-3","pb-3","text-center",2,"letter-spacing","1px"],[3,"formGroup"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[4,"ngIf"],[1,"form-outline","mb-4"],["for","identifier",1,"form-label"],["formControlName","identifier","type","text","id","identifier","required","",1,"form-control","form-control-lg"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password","required","",1,"form-control","form-control-lg"],[1,"pt-1","mb-4"],["type","button",1,"btn","btn-dark","btn-lg","btn-block","btn-red",3,"click"],[1,"d-flex","justify-content-between","mb-5","pb-lg-2"],["href","javascript:void(0);",3,"click"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","required","",1,"form-control","form-control-lg"],["for","first_name",1,"form-label"],["formControlName","first_name","type","text","id","first_name","required","",1,"form-control","form-control-lg"],["for","last_name",1,"form-label"],["formControlName","last_name","type","text","id","last_name","required","",1,"form-control","form-control-lg"],["for","username",1,"form-label"],["formControlName","username","type","text","id","username","required","",1,"form-control","form-control-lg"],["class","text-danger mt-1",4,"ngIf"],["for","confPassword",1,"form-label"],["formControlName","confPassword","type","password","id","confPassword","required","",1,"form-control","form-control-lg"],[1,"mb-5","pb-lg-2"],[1,"text-danger","mt-1"],[1,"small-text"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),l(9,"Pendaftaran Diklat"),a(),s(10,"form",9)(11,"h3",10),l(12),a(),p(13,zi,20,0,"div",11)(14,$i,34,2,"div",11),a()()()()()()()()()),i&2&&(d(10),u("formGroup",o.isLoginView?o.loginForm:o.registerForm),d(2),K(o.isLoginView?"Masuk":"Daftar"),d(),u("ngIf",o.isLoginView),d(),u("ngIf",!o.isLoginView))},dependencies:[j,T,R,ne,W,H,te,$,Zn,Lt,Gt],styles:[".text-danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}.btn-red[_ngcontent-%COMP%]{background-color:#ba181b;color:#fff;border:none}.btn-red[_ngcontent-%COMP%]:hover{background-color:#a01616}.card[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px}"]});let n=e;return n})();var xt=(()=>{let e=class e{constructor(t,i){this.http=t,this.platformId=i,this.apiUrl="http://localhost:5000"}daftarDiklat(t){return console.log("Mengirim data diklat:",t),this.http.post(`${this.apiUrl}/daftar-diklat`,t,{withCredentials:!0}).pipe(se(i=>{console.log("Daftar Diklat Sukses:",i)}),E(i=>(console.error("Daftar Diklat error:",i),N(()=>new Error(`Error: ${i.status} - ${i.message}`)))))}getPendaftar(){return me(this.platformId)?this.http.get(`${this.apiUrl}/loadAll-daftar-diklat`,{withCredentials:!0}).pipe(E(t=>(console.error("Error fetching pendaftar:",t),N(()=>new Error(`Error: ${t.status} - ${t.message}`))))):I([])}getUserData(){return me(this.platformId)?this.http.get(`${this.apiUrl}/load-daftar-diklat`,{withCredentials:!0}).pipe(E(t=>(console.error("Error fetching user data:",t),N(()=>new Error(`Error: ${t.status} - ${t.message}`))))):I(null)}updateDataDiklat(t){return this.http.put(`${this.apiUrl}/update-daftar-diklat`,t,{withCredentials:!0}).pipe(E(i=>(console.error("Error updating user data:",i),N(()=>new Error(`Error: ${i.status} - ${i.message}`)))))}deleteDataDiklat(t){return me(this.platformId)?this.http.delete(`${this.apiUrl}/delete-daftar-diklat/${t}`,{withCredentials:!0}).pipe(E(i=>(console.error("Error deleting user registration:",i),N(()=>new Error(`Error: ${i.status} - ${i.message}`))))):I(null)}};e.\u0275fac=function(i){return new(i||e)(A(Y),A(Se))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Zi(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function Xi(n,e){n&1&&(s(0,"span",71),l(1,"Minimal 3 Karakter"),a())}function Yi(n,e){if(n&1&&(s(0,"div",69),p(1,Zi,2,0,"span",70)(2,Xi,2,0,"span",70),a()),n&2){h();let r=g(11);d(),u("ngIf",r.errors==null?null:r.errors.required),d(),u("ngIf",r.errors==null?null:r.errors.minlength)}}function Qi(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function er(n,e){if(n&1&&(s(0,"div",69),p(1,Qi,2,0,"span",70),a()),n&2){h();let r=g(17);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function tr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function nr(n,e){if(n&1&&(s(0,"div",69),p(1,tr,2,0,"span",70),a()),n&2){h();let r=g(23);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function ir(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function rr(n,e){n&1&&(s(0,"span",71),l(1,"Min 16 Karakter"),a())}function or(n,e){if(n&1&&(s(0,"div",69),p(1,ir,2,0,"span",70)(2,rr,2,0,"span",70),a()),n&2){h();let r=g(29);d(),u("ngIf",r.errors==null?null:r.errors.required),d(),u("ngIf",r.errors==null?null:r.errors.minlength)}}function ar(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function sr(n,e){if(n&1&&(s(0,"div",69),p(1,ar,2,0,"span",70),a()),n&2){h();let r=g(35);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function lr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function dr(n,e){if(n&1&&(s(0,"div",69),p(1,lr,2,0,"span",70),a()),n&2){h();let r=g(41);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function ur(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function cr(n,e){if(n&1&&(s(0,"div",69),p(1,ur,2,0,"span",70),a()),n&2){h();let r=g(51);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function mr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function pr(n,e){if(n&1&&(s(0,"div",69),p(1,mr,2,0,"span",70),a()),n&2){h();let r=g(61);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function hr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function fr(n,e){if(n&1&&(s(0,"div",69),p(1,hr,2,0,"span",70),a()),n&2){h();let r=g(67);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function gr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function _r(n,e){if(n&1&&(s(0,"div",69),p(1,gr,2,0,"span",70),a()),n&2){h();let r=g(73);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function vr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function yr(n,e){if(n&1&&(s(0,"div",69),p(1,vr,2,0,"span",70),a()),n&2){h();let r=g(79);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Cr(n,e){n&1&&(s(0,"span",71),l(1,"Wajib diisi"),a())}function br(n,e){if(n&1&&(s(0,"div",69),p(1,Cr,2,0,"span",70),a()),n&2){h();let r=g(85);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function wr(n,e){if(n&1){let r=k();s(0,"div")(1,"label",72),l(2,"Masukkan Jalur Pendaftaran Lainnya"),a(),s(3,"input",73),w("ngModelChange",function(i){_(r);let o=h();return b(o.userObj.jalur_pendaftaran_lainnya,i)||(o.userObj.jalur_pendaftaran_lainnya=i),v(i)}),a()()}if(n&2){let r=h();d(3),C("ngModel",r.userObj.jalur_pendaftaran_lainnya)}}function Mr(n,e){if(n&1){let r=k();s(0,"div")(1,"div",74)(2,"input",75),M("change",function(i){let o=_(r).$implicit,c=h();return v(c.onJenisDiklatChange(i,o))}),a(),s(3,"label",76),l(4),a()()()}if(n&2){let r=e.$implicit,t=h();d(2),u("id",r)("value",r)("checked",t.userObj.jenis_diklat.includes(r)),d(),u("for",r),d(),K(r)}}function xr(n,e){n&1&&(s(0,"div",69)(1,"span",71),l(2,"Pilih setidaknya satu jenis diklat"),a()())}function kr(n,e){if(n&1){let r=k();s(0,"div",77)(1,"label",78),l(2,"Masukkan Sumber Informasi Diklat Lainnya"),a(),s(3,"input",79),w("ngModelChange",function(i){_(r);let o=h();return b(o.userObj.tau_diklat_dari_lainnya,i)||(o.userObj.tau_diklat_dari_lainnya=i),v(i)}),a()()}if(n&2){let r=h();d(3),C("ngModel",r.userObj.tau_diklat_dari_lainnya)}}var Yn=(()=>{let e=class e{constructor(t,i){this.diklatService=t,this.router=i,this.isFormSubmited=!1,this.jenisDiklatOptions=["Mekanik Manufaktur","Welding Manufaktur","Desain Manufaktur","Otomasi Manufaktur","Underwater Wet Welding"],this.userObj={nama:"",tempat_lahir:"",tanggal_lahir:"",nik:"",usia:"",jenis_kelamin:"",status:"",alamat_rumah:"",asal_sekolah_instansi:"",no_wa_aktif:"",no_telepon_orang_tua:"",jalur_pendaftaran:"",jalur_pendaftaran_lainnya:"",jenis_diklat:[],tau_diklat_dari:"",tau_diklat_dari_lainnya:"",isAgree:!0},this.jenisDiklatError=!1}onJenisDiklatChange(t,i){if(t.target.checked)this.userObj.jenis_diklat.includes(i)||this.userObj.jenis_diklat.push(i);else{let c=this.userObj.jenis_diklat.indexOf(i);c>-1&&this.userObj.jenis_diklat.splice(c,1)}this.jenisDiklatError=this.userObj.jenis_diklat.length===0}onSubmit(t){this.isFormSubmited=!0,t.form.valid&&this.userObj.jenis_diklat.length>0?this.diklatService.daftarDiklat(this.userObj).subscribe(i=>{alert("Data berhasil disimpan!"),this.router.navigate(["/user-data"])},i=>{alert("Terjadi kesalahan, harap coba lagi."),console.error("Error:",i)}):alert("Data belum lengkap, harap isi semua field dengan benar.")}};e.\u0275fac=function(i){return new(i||e)(y(xt),y(x))},e.\u0275cmp=V({type:e,selectors:[["app-template-form-validation"]],standalone:!0,features:[D],decls:129,vars:29,consts:[["Userform","ngForm"],["nama","ngModel"],["tempat_lahir","ngModel"],["tanggal_lahir","ngModel"],["nik","ngModel"],["usia","ngModel"],["jenis_kelamin","ngModel"],["status","ngModel"],["alamat_rumah","ngModel"],["asal_sekolah_instansi","ngModel"],["no_wa_aktif","ngModel"],["no_telepon_orang_tua","ngModel"],["jalur_pendaftaran","ngModel"],[1,"vh-100","d-flex","flex-column","align-items-center","justify-content-start"],[1,"container","text-center"],[1,"title"],[1,"container","form-container"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"form-group"],["for","exampleFormControlInput2"],["type","text","name","nama","id","exampleFormControlInput2","minlength","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","exampleFormControlInput3"],["type","text","name","tempat_lahir","id","exampleFormControlInput3","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput10"],["type","date","name","tanggal_lahir","id","exampleFormControlInput10","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput4"],["type","text","name","nik","id","exampleFormControlInput4","minlength","16","maxlength","16","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput5"],["type","number","name","usia","id","exampleFormControlInput5","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlSelect1"],["name","jenis_kelamin","id","exampleFormControlSelect1","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Laki-laki"],["value","Perempuan"],["for","exampleFormControlSelect2"],["name","status","id","exampleFormControlSelect2","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Menikah"],["value","Belum Menikah"],["for","exampleFormControlInput6"],["type","text","name","alamat_rumah","id","exampleFormControlInput6","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput7"],["type","text","name","asal_sekolah_instansi","id","exampleFormControlInput7","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput8"],["type","text","name","no_wa_aktif","id","exampleFormControlInput8","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlInput9"],["type","text","name","no_telepon_orang_tua","id","exampleFormControlInput9","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleFormControlSelect3"],["name","jalur_pendaftaran","id","exampleFormControlSelect3","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","APBN"],["value","APBD"],["value","Mandiri"],["value","Other"],[4,"ngIf"],[1,"form-group","mt-3"],[4,"ngFor","ngForOf"],["for","exampleFormControlSelect5"],["name","tau_diklat_dari","id","exampleFormControlSelect5","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Instagram"],["value","Whatsapp"],["value","Website"],["value","Sosialisasi"],["value","BrosurPamflet"],["value","Baliho"],["value","Sekolah"],["value","Keluarga"],["value","Teman"],["value","Lainnya"],["class","mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"],["class","small-text",4,"ngIf"],[1,"small-text"],["for","customjalur_pendaftaran_lainnya"],["type","text","name","jalur_pendaftaran_lainnya","id","customJalurPendaftaran","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked"],[1,"form-check-label",3,"for"],[1,"mb-3"],["for","tau_diklat_dari_lainnya"],["type","text","name","tau_diklat_dari_lainnya","id","tau_diklat_dari_lainnya","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let c=k();s(0,"section",13)(1,"div",14)(2,"span",15),l(3,"Pendaftaran Diklat Solo Technopark"),a()(),s(4,"div",16)(5,"form",17,0),M("ngSubmit",function(){_(c);let f=g(6);return v(o.onSubmit(f))}),s(7,"div",18)(8,"label",19),l(9,"Nama"),a(),s(10,"input",20,1),w("ngModelChange",function(f){return _(c),b(o.userObj.nama,f)||(o.userObj.nama=f),v(f)}),a(),p(12,Yi,3,2,"div",21),a(),s(13,"div",18)(14,"label",22),l(15,"Tempat Lahir"),a(),s(16,"input",23,2),w("ngModelChange",function(f){return _(c),b(o.userObj.tempat_lahir,f)||(o.userObj.tempat_lahir=f),v(f)}),a(),p(18,er,2,1,"div",21),a(),s(19,"div",18)(20,"label",24),l(21,"Tanggal Lahir"),a(),s(22,"input",25,3),w("ngModelChange",function(f){return _(c),b(o.userObj.tanggal_lahir,f)||(o.userObj.tanggal_lahir=f),v(f)}),a(),p(24,nr,2,1,"div",21),a(),s(25,"div",18)(26,"label",26),l(27,"NIK"),a(),s(28,"input",27,4),w("ngModelChange",function(f){return _(c),b(o.userObj.nik,f)||(o.userObj.nik=f),v(f)}),a(),p(30,or,3,2,"div",21),a(),s(31,"div",18)(32,"label",28),l(33,"Usia (dalam tahun) "),a(),s(34,"input",29,5),w("ngModelChange",function(f){return _(c),b(o.userObj.usia,f)||(o.userObj.usia=f),v(f)}),a(),p(36,sr,2,1,"div",21),a(),s(37,"div",18)(38,"label",30),l(39,"Jenis Kelamin"),a(),s(40,"select",31,6),w("ngModelChange",function(f){return _(c),b(o.userObj.jenis_kelamin,f)||(o.userObj.jenis_kelamin=f),v(f)}),s(42,"option",32),l(43,"Laki-Laki"),a(),s(44,"option",33),l(45,"Perempuan"),a()(),p(46,dr,2,1,"div",21),a(),s(47,"div",18)(48,"label",34),l(49,"Status"),a(),s(50,"select",35,7),w("ngModelChange",function(f){return _(c),b(o.userObj.status,f)||(o.userObj.status=f),v(f)}),s(52,"option",36),l(53,"Menikah"),a(),s(54,"option",37),l(55,"Belum Menikah"),a()(),p(56,cr,2,1,"div",21),a(),s(57,"div",18)(58,"label",38),l(59,"Alamat Rumah"),a(),s(60,"input",39,8),w("ngModelChange",function(f){return _(c),b(o.userObj.alamat_rumah,f)||(o.userObj.alamat_rumah=f),v(f)}),a(),p(62,pr,2,1,"div",21),a(),s(63,"div",18)(64,"label",40),l(65,"Asal Sekolah atau Instansi"),a(),s(66,"input",41,9),w("ngModelChange",function(f){return _(c),b(o.userObj.asal_sekolah_instansi,f)||(o.userObj.asal_sekolah_instansi=f),v(f)}),a(),p(68,fr,2,1,"div",21),a(),s(69,"div",18)(70,"label",42),l(71,"Nomor WhatsApp"),a(),s(72,"input",43,10),w("ngModelChange",function(f){return _(c),b(o.userObj.no_wa_aktif,f)||(o.userObj.no_wa_aktif=f),v(f)}),a(),p(74,_r,2,1,"div",21),a(),s(75,"div",18)(76,"label",44),l(77,"Nomor Telp. Orang Tua"),a(),s(78,"input",45,11),w("ngModelChange",function(f){return _(c),b(o.userObj.no_telepon_orang_tua,f)||(o.userObj.no_telepon_orang_tua=f),v(f)}),a(),p(80,yr,2,1,"div",21),a(),s(81,"div",18)(82,"label",46),l(83,"Jalur Pendaftaran"),a(),s(84,"select",47,12),w("ngModelChange",function(f){return _(c),b(o.userObj.jalur_pendaftaran,f)||(o.userObj.jalur_pendaftaran=f),v(f)}),s(86,"option",48),l(87,"APBN"),a(),s(88,"option",49),l(89,"APBD"),a(),s(90,"option",50),l(91,"Mandiri"),a(),s(92,"option",51),l(93,"Lainnya"),a()(),p(94,br,2,1,"div",21),a(),p(95,wr,4,1,"div",52),s(96,"div",53)(97,"label"),l(98,"Jenis Diklat"),a(),p(99,Mr,5,5,"div",54)(100,xr,3,0,"div",21),a(),s(101,"div",53)(102,"label",55),l(103,"Sumber Informasi Diklat"),a(),s(104,"select",56),w("ngModelChange",function(f){return _(c),b(o.userObj.tau_diklat_dari,f)||(o.userObj.tau_diklat_dari=f),v(f)}),s(105,"option",57),l(106,"Instagram"),a(),s(107,"option",58),l(108,"WhatsApp"),a(),s(109,"option",59),l(110,"Website"),a(),s(111,"option",60),l(112,"Sosialisasi"),a(),s(113,"option",61),l(114,"Brosur/Pamflet"),a(),s(115,"option",62),l(116,"Baliho"),a(),s(117,"option",63),l(118,"Sekolah"),a(),s(119,"option",64),l(120,"Keluarga"),a(),s(121,"option",65),l(122,"Teman"),a(),s(123,"option",66),l(124,"Lainnya"),a()()(),p(125,kr,4,1,"div",67),s(126,"div",18)(127,"button",68),l(128,"Daftar Diklat"),a()()()()()}if(i&2){let c=g(11),m=g(17),f=g(23),Z=g(29),ie=g(35),_e=g(41),ve=g(51),ye=g(61),Ce=g(67),S=g(73),kt=g(79),Et=g(85);d(10),C("ngModel",o.userObj.nama),d(2),u("ngIf",c.invalid&&(c.touched||c.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.tempat_lahir),d(2),u("ngIf",m.invalid&&(m.touched||m.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.tanggal_lahir),d(2),u("ngIf",f.invalid&&(f.touched||f.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.nik),d(2),u("ngIf",Z.invalid&&(Z.touched||Z.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.usia),d(2),u("ngIf",ie.invalid&&(ie.touched||ie.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.jenis_kelamin),d(6),u("ngIf",_e.invalid&&(_e.touched||_e.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.status),d(6),u("ngIf",ve.invalid&&(ve.touched||ve.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.alamat_rumah),d(2),u("ngIf",ye.invalid&&(ye.touched||ye.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.asal_sekolah_instansi),d(2),u("ngIf",Ce.invalid&&(Ce.touched||Ce.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.no_wa_aktif),d(2),u("ngIf",S.invalid&&(S.touched||S.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.no_telepon_orang_tua),d(2),u("ngIf",kt.invalid&&(kt.touched||kt.dirty)||o.isFormSubmited),d(4),C("ngModel",o.userObj.jalur_pendaftaran),d(10),u("ngIf",Et.invalid&&(Et.touched||Et.dirty)||o.isFormSubmited),d(),u("ngIf",o.userObj.jalur_pendaftaran==="Other"),d(4),u("ngForOf",o.jenisDiklatOptions),d(),u("ngIf",o.jenisDiklatError),d(4),C("ngModel",o.userObj.tau_diklat_dari),d(21),u("ngIf",o.userObj.tau_diklat_dari==="Lainnya")}},dependencies:[R,ne,wt,Mt,W,$e,Ne,H,te,$,Ze,Xe,J,oe,j,rt,T],styles:[".small-text[_ngcontent-%COMP%]{font-size:.8rem}.vh-100[_ngcontent-%COMP%]{height:100vh}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin-bottom:2rem}.form-container[_ngcontent-%COMP%]{margin-top:1rem;max-width:600px}"]});let n=e;return n})();var Qn=n=>({"is-invalid":n});function Er(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Sr(n,e){n&1&&(s(0,"span",68),l(1,"Minimal 3 Karakter"),a())}function Vr(n,e){if(n&1&&(s(0,"div",66),p(1,Er,2,0,"span",67)(2,Sr,2,0,"span",67),a()),n&2){h();let r=g(19);d(),u("ngIf",r.errors==null?null:r.errors.required),d(),u("ngIf",r.errors==null?null:r.errors.minlength)}}function Dr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Pr(n,e){if(n&1&&(s(0,"div",66),p(1,Dr,2,0,"span",67),a()),n&2){h();let r=g(25);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Fr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Ir(n,e){if(n&1&&(s(0,"div",66),p(1,Fr,2,0,"span",67),a()),n&2){h();let r=g(31);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Ar(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Tr(n,e){n&1&&(s(0,"span",68),l(1,"Min 16 Karakter"),a())}function jr(n,e){if(n&1&&(s(0,"div",66),p(1,Ar,2,0,"span",67)(2,Tr,2,0,"span",67),a()),n&2){h();let r=g(37);d(),u("ngIf",r.errors==null?null:r.errors.required),d(),u("ngIf",r.errors==null?null:r.errors.minlength)}}function Or(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Nr(n,e){if(n&1&&(s(0,"div",66),p(1,Or,2,0,"span",67),a()),n&2){h();let r=g(43);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Ur(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Wr(n,e){if(n&1&&(s(0,"div",66),p(1,Ur,2,0,"span",67),a()),n&2){h();let r=g(49);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Rr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Br(n,e){if(n&1&&(s(0,"div",66),p(1,Rr,2,0,"span",67),a()),n&2){h();let r=g(59);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Lr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Gr(n,e){if(n&1&&(s(0,"div",66),p(1,Lr,2,0,"span",67),a()),n&2){h();let r=g(69);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function qr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Hr(n,e){if(n&1&&(s(0,"div",66),p(1,qr,2,0,"span",67),a()),n&2){h();let r=g(77);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function zr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Kr(n,e){if(n&1&&(s(0,"div",66),p(1,zr,2,0,"span",67),a()),n&2){h();let r=g(83);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Jr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function $r(n,e){if(n&1&&(s(0,"div",66),p(1,Jr,2,0,"span",67),a()),n&2){h();let r=g(89);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Zr(n,e){if(n&1){let r=k();s(0,"div")(1,"div",69)(2,"input",70),M("change",function(i){_(r);let o=h(2);return v(o.onDiklatChange(i))}),a(),s(3,"label",71),l(4),a()()()}if(n&2){let r=e.$implicit,t=h(2);d(2),u("id",r)("value",r)("checked",t.user.jenis_diklat.includes(r)),d(),u("for",r),d(),K(r)}}function Xr(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function Yr(n,e){if(n&1&&(s(0,"div",66),p(1,Xr,2,0,"span",67),a()),n&2){h();let r=g(99);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function Qr(n,e){n&1&&(s(0,"span",68),l(1,'Wajib diisi jika memilih "Lainnya"'),a())}function eo(n,e){if(n&1&&(s(0,"div",66),p(1,Qr,2,0,"span",67),a()),n&2){h();let r=g(4);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function to(n,e){if(n&1){let r=k();s(0,"div",28)(1,"label"),l(2,"Jalur Pendaftaran Lainnya "),a(),s(3,"input",72,14),w("ngModelChange",function(i){_(r);let o=h(2);return b(o.user.jalur_pendaftaran_lainnya,i)||(o.user.jalur_pendaftaran_lainnya=i),v(i)}),a(),p(5,eo,2,1,"div",30),a()}if(n&2){let r=g(4),t=h(2);d(3),C("ngModel",t.user.jalur_pendaftaran_lainnya),u("ngClass",Vt(4,Qn,r.invalid&&(r.touched||r.dirty)))("value",t.user.jalur_pendaftaran_lainnya||""),d(2),u("ngIf",r.invalid&&(r.touched||r.dirty))}}function no(n,e){n&1&&(s(0,"span",68),l(1,"Wajib diisi"),a())}function io(n,e){if(n&1&&(s(0,"div",66),p(1,no,2,0,"span",67),a()),n&2){h();let r=g(114);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function ro(n,e){n&1&&(s(0,"span",68),l(1,'Wajib diisi jika memilih "Lainnya"'),a())}function oo(n,e){if(n&1&&(s(0,"div",66),p(1,ro,2,0,"span",67),a()),n&2){h();let r=g(4);d(),u("ngIf",r.errors==null?null:r.errors.required)}}function ao(n,e){if(n&1){let r=k();s(0,"div",28)(1,"label"),l(2,"Sumber Informasi Diklat Lainnya"),a(),s(3,"input",73,15),w("ngModelChange",function(i){_(r);let o=h(2);return b(o.user.tau_diklat_dari_lainnya,i)||(o.user.tau_diklat_dari_lainnya=i),v(i)}),a(),p(5,oo,2,1,"div",30),a()}if(n&2){let r=g(4),t=h(2);d(3),C("ngModel",t.user.tau_diklat_dari_lainnya),u("ngClass",Vt(4,Qn,r.invalid&&(r.touched||r.dirty)))("value",t.user.tau_diklat_dari_lainnya||""),d(2),u("ngIf",r.invalid&&(r.touched||r.dirty))}}function so(n,e){if(n&1){let r=k();s(0,"button",74),M("click",function(){_(r);let i=h(2);return v(i.cancelRegistration())}),l(1,"Batalkan Pendaftaran"),a()}}function lo(n,e){if(n&1){let r=k();s(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21),F(4,"img",22),s(5,"span",23),l(6),a(),s(7,"span",24),l(8),a()()(),s(9,"div",25)(10,"div",19)(11,"div",26)(12,"div",27)(13,"h4"),l(14,"Data Pendaftaran Diklat"),a(),s(15,"div",28)(16,"label"),l(17,"Nama Lengkap"),a(),s(18,"input",29,1),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.nama,i)||(o.user.nama=i),v(i)}),a(),p(20,Vr,3,2,"div",30),a(),s(21,"div",28)(22,"label"),l(23,"Tempat Lahir"),a(),s(24,"input",31,2),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.tempat_lahir,i)||(o.user.tempat_lahir=i),v(i)}),a(),p(26,Pr,2,1,"div",30),a(),s(27,"div",28)(28,"label"),l(29,"Tanggal Lahir"),a(),s(30,"input",32,3),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.tanggal_lahir,i)||(o.user.tanggal_lahir=i),v(i)}),a(),p(32,Ir,2,1,"div",30),a(),s(33,"div",28)(34,"label"),l(35,"NIK"),a(),s(36,"input",33,4),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.nik,i)||(o.user.nik=i),v(i)}),a(),p(38,jr,3,2,"div",30),a(),s(39,"div",28)(40,"label"),l(41,"Usia (dalam tahun)"),a(),s(42,"input",34,5),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.usia,i)||(o.user.usia=i),v(i)}),a(),p(44,Nr,2,1,"div",30),a(),s(45,"div",28)(46,"label"),l(47,"Jenis Kelamin"),a(),s(48,"select",35,6),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.jenis_kelamin,i)||(o.user.jenis_kelamin=i),v(i)}),s(50,"option",36),l(51,"Laki-Laki"),a(),s(52,"option",37),l(53,"Perempuan"),a()(),p(54,Wr,2,1,"div",30),a(),s(55,"div",28)(56,"label"),l(57,"Status"),a(),s(58,"select",38,7),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.status,i)||(o.user.status=i),v(i)}),s(60,"option",39),l(61,"Menikah"),a(),s(62,"option",40),l(63,"Belum Menikah"),a()(),p(64,Br,2,1,"div",30),a(),s(65,"div",28)(66,"label"),l(67,"Alamat Rumah"),a(),s(68,"input",41,8),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.alamat_rumah,i)||(o.user.alamat_rumah=i),v(i)}),a(),p(70,Gr,2,1,"div",30),a()()(),s(71,"div",26)(72,"div",27)(73,"div",28)(74,"label"),l(75,"Asal Sekolah atau Instansi"),a(),s(76,"input",42,9),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.asal_sekolah_instansi,i)||(o.user.asal_sekolah_instansi=i),v(i)}),a(),p(78,Hr,2,1,"div",30),a(),s(79,"div",28)(80,"label"),l(81,"No. Whatsapp"),a(),s(82,"input",43,10),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.no_wa_aktif,i)||(o.user.no_wa_aktif=i),v(i)}),a(),p(84,Kr,2,1,"div",30),a(),s(85,"div",28)(86,"label"),l(87,"No Telp Orang Tua"),a(),s(88,"input",44,11),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.no_telepon_orang_tua,i)||(o.user.no_telepon_orang_tua=i),v(i)}),a(),p(90,$r,2,1,"div",30),a(),s(91,"div",28)(92,"label"),l(93,"Jenis Diklat"),a(),p(94,Zr,5,5,"div",45),a(),s(95,"div",28)(96,"label"),l(97,"Jalur Pendaftaran"),a(),s(98,"select",46,12),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.jalur_pendaftaran,i)||(o.user.jalur_pendaftaran=i),v(i)}),M("change",function(){_(r);let i=h();return v(i.onJalurPendaftaranChange())}),s(100,"option",47),l(101,"APBN"),a(),s(102,"option",48),l(103,"APBD"),a(),s(104,"option",49),l(105,"Mandiri"),a(),s(106,"option",50),l(107,"Lainnya"),a()(),p(108,Yr,2,1,"div",30),a(),p(109,to,6,6,"div",51),s(110,"div",28)(111,"label"),l(112,"Sumber Informasi Diklat"),a(),s(113,"select",52,13),w("ngModelChange",function(i){_(r);let o=h();return b(o.user.tau_diklat_dari,i)||(o.user.tau_diklat_dari=i),v(i)}),M("change",function(){_(r);let i=h();return v(i.onTauDiklatDariChange())}),s(115,"option",53),l(116,"Pilih salah satu"),a(),s(117,"option",54),l(118,"Instagram"),a(),s(119,"option",55),l(120,"WhatsApp"),a(),s(121,"option",56),l(122,"Website"),a(),s(123,"option",57),l(124,"Sosialisasi"),a(),s(125,"option",58),l(126,"Brosur/Pamflet"),a(),s(127,"option",59),l(128,"Baliho"),a(),s(129,"option",60),l(130,"Sekolah"),a(),s(131,"option",61),l(132,"Keluarga"),a(),s(133,"option",62),l(134,"Teman"),a(),s(135,"option",63),l(136,"Lainnya"),a()(),p(137,io,2,1,"div",30),a(),p(138,ao,6,6,"div",51),s(139,"div",28)(140,"button",64),l(141,"Simpan"),a(),p(142,so,2,0,"button",65),a()()()()()()()}if(n&2){let r=g(19),t=g(25),i=g(31),o=g(37),c=g(43),m=g(49),f=g(59),Z=g(69),ie=g(77),_e=g(83),ve=g(89),ye=g(99),Ce=g(114),S=h();d(6),K(S.user.nama),d(2),K(S.user.no_wa_aktif),d(10),C("ngModel",S.user.nama),d(2),u("ngIf",r.invalid&&(r.touched||r.dirty)),d(4),C("ngModel",S.user.tempat_lahir),d(2),u("ngIf",t.invalid&&(t.touched||t.dirty)),d(4),C("ngModel",S.user.tanggal_lahir),d(2),u("ngIf",i.invalid&&(i.touched||i.dirty)),d(4),C("ngModel",S.user.nik),d(2),u("ngIf",o.invalid&&(o.touched||o.dirty)),d(4),C("ngModel",S.user.usia),d(2),u("ngIf",c.invalid&&(c.touched||c.dirty)),d(4),C("ngModel",S.user.jenis_kelamin),d(6),u("ngIf",m.invalid&&(m.touched||m.dirty)),d(4),C("ngModel",S.user.status),d(6),u("ngIf",f.invalid&&(f.touched||f.dirty)),d(4),C("ngModel",S.user.alamat_rumah),d(2),u("ngIf",Z.invalid&&(Z.touched||Z.dirty)),d(6),C("ngModel",S.user.asal_sekolah_instansi),d(2),u("ngIf",ie.invalid&&(ie.touched||ie.dirty)),d(4),C("ngModel",S.user.no_wa_aktif),d(2),u("ngIf",_e.invalid&&(_e.touched||_e.dirty)),d(4),C("ngModel",S.user.no_telepon_orang_tua),d(2),u("ngIf",ve.invalid&&(ve.touched||ve.dirty)),d(4),u("ngForOf",S.diklatOptions),d(4),C("ngModel",S.user.jalur_pendaftaran),d(10),u("ngIf",ye.invalid&&(ye.touched||ye.dirty)),d(),u("ngIf",S.user.jalur_pendaftaran==="Other"),d(4),C("ngModel",S.user.tau_diklat_dari),d(24),u("ngIf",Ce.invalid&&(Ce.touched||Ce.dirty)),d(),u("ngIf",S.user.tau_diklat_dari==="Lainnya"),d(4),u("ngIf",S.user)}}var ei=(()=>{let e=class e{constructor(t,i,o){this.diklatService=t,this.platformId=i,this.router=o,this.user=null,this.diklatOptions=["Mekanik Manufaktur","Welding Manufaktur","Desain Manufaktur","Otomasi Manufaktur","Underwater Wet Welding"]}ngOnInit(){me(this.platformId)&&this.diklatService.getUserData().subscribe(t=>{this.user=t},t=>{console.error("Error fetching user data:",t)})}onJalurPendaftaranChange(){this.user&&this.user.jalur_pendaftaran!=="Other"&&(this.user.jalur_pendaftaran_lainnya="")}onTauDiklatDariChange(){this.user&&this.user.tau_diklat_dari!=="Lainnya"&&(this.user.tau_diklat_dari_lainnya="")}onDiklatChange(t){let i=t.target,o=i.value;if(i.checked)this.user&&!this.user.jenis_diklat.includes(o)&&this.user.jenis_diklat.push(o);else if(this.user){let c=this.user.jenis_diklat.indexOf(o);c!==-1&&this.user.jenis_diklat.splice(c,1)}}onSubmit(t){this.user&&t.valid?this.diklatService.updateDataDiklat(this.user).subscribe(i=>{console.log("Data Diklat Berhasil Diperbarui",i),alert("Data Diklat Berhasil Diperbarui"),location.reload()},i=>{console.error("Error updating profile:",i),alert("Terjadi kesalahan saat memperbarui data.")}):alert("Form tidak valid. Periksa kembali data yang diisi.")}cancelRegistration(){this.user&&confirm("Apakah Anda yakin ingin membatalkan pendaftaran?")&&this.diklatService.deleteDataDiklat(this.user.id).subscribe(i=>{console.log("Pendaftaran berhasil dibatalkan:",i),alert("Pendaftaran berhasil dibatalkan."),this.user=null,this.router.navigate(["templateFormValidation"])},i=>{console.error("Error cancelling registration:",i),alert("Terjadi kesalahan saat membatalkan pendaftaran.")})}};e.\u0275fac=function(i){return new(i||e)(y(xt),y(Se),y(x))},e.\u0275cmp=V({type:e,selectors:[["app-user-data"]],inputs:{user:"user"},standalone:!0,features:[D],decls:3,vars:1,consts:[["userForm","ngForm"],["nama","ngModel"],["tempat_lahir","ngModel"],["tanggal_lahir","ngModel"],["nik","ngModel"],["usia","ngModel"],["jenis_kelamin","ngModel"],["status","ngModel"],["alamat_rumah","ngModel"],["asal_sekolah_instansi","ngModel"],["no_wa_aktif","ngModel"],["no_telepon_orang_tua","ngModel"],["jalur_pendaftaran","ngModel"],["tau_diklat_dari","ngModel"],["jalur_pendaftaran_lainnya","ngModel"],["tau_diklat_dari_lainnya","ngModel"],[3,"ngSubmit"],["class","container container-custom rounded bg-white shadow-sm mt-5 mb-5",4,"ngIf"],[1,"container","container-custom","rounded","bg-white","shadow-sm","mt-5","mb-5"],[1,"row"],[1,"col-md-3","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px","src","https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg","alt","Profile Picture",1,"rounded-circle","mt-5"],[1,"fw-bold"],[1,"text-black-50"],[1,"col-md-9"],[1,"col-md-6"],[1,"p-3","py-5"],[1,"form-group","mt-3"],["type","text","name","nama","minlength","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","tempat_lahir","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","tanggal_lahir","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","nik","minlength","16","maxlength","16","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","usia","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","jenis_kelamin","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Laki-laki"],["value","Perempuan"],["name","status","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Menikah"],["value","Belum Menikah"],["type","text","name","alamat_rumah","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","asal_sekolah_instansi","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","no_wa_aktif","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","no_telepon_orang_tua","required","",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["name","jalur_pendaftaran","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["value","APBN"],["value","APBD"],["value","Mandiri"],["value","Other"],["class","form-group mt-3",4,"ngIf"],["name","tau_diklat_dari","required","",1,"form-control",3,"ngModelChange","change","ngModel"],["value","","disabled",""],["value","Instagram"],["value","Whatsapp"],["value","Website"],["value","Sosialisasi"],["value","BrosurPamflet"],["value","Baliho"],["value","Sekolah"],["value","Keluarga"],["value","Teman"],["value","Lainnya"],["type","submit",1,"btn","btn-primary"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"text-danger"],["class","small-text",4,"ngIf"],[1,"small-text"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked"],[1,"form-check-label",3,"for"],["type","text","name","jalur_pendaftaran_lainnya","placeholder","Masukkan jalur pendaftaran jika ada","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass","value"],["type","text","name","tau_diklat_dari_lainnya","placeholder","Masukkan informasi jika ada",1,"form-control",3,"ngModelChange","ngModel","ngClass","value"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,o){if(i&1){let c=k();s(0,"form",16,0),M("ngSubmit",function(){_(c);let f=g(1);return v(o.onSubmit(f))}),p(2,lo,143,32,"div",17),a()}i&2&&(d(2),u("ngIf",o.user))},dependencies:[j,nn,rt,T,R,ne,wt,Mt,W,$e,Ne,H,te,$,Ze,Xe,J,oe],styles:[".container-custom[_ngcontent-%COMP%]{margin-top:50px}.profile-button[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{background:#ba181b}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ba181b}.profile-button[_ngcontent-%COMP%]{background:#ba181b;box-shadow:none;border:none}.profile-button[_ngcontent-%COMP%]:hover{background:#ba181b}.profile-button[_ngcontent-%COMP%]:focus{background:#ba181b;box-shadow:none}.profile-button[_ngcontent-%COMP%]:active{background:#ba181b;box-shadow:none}.back[_ngcontent-%COMP%]:hover{color:#ba181b;cursor:pointer}.labels[_ngcontent-%COMP%]{font-size:11px}.custom-button[_ngcontent-%COMP%]{background-color:#ba181b!important;border-color:#ba181b!important;color:#fff}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.small-text[_ngcontent-%COMP%]{font-size:.875rem}"]});let n=e;return n})();function uo(n,e){if(n&1){let r=k();s(0,"button",29),M("click",function(){_(r);let i=h();return v(i.enableEditing())}),l(1,"Edit"),a()}}function co(n,e){if(n&1){let r=k();s(0,"button",30),M("click",function(){_(r);let i=h();return v(i.cancelEditing())}),l(1,"Cancel"),a()}}function mo(n,e){if(n&1){let r=k();s(0,"button",31),M("click",function(){_(r);let i=h();return v(i.onUpdate())}),l(1,"Save"),a()}}var ti=(()=>{let e=class e{constructor(t,i){this.authService=t,this.router=i,this.userdata={id:"",username:"",email:"",first_name:"",last_name:""},this.isEditing=!1}ngOnInit(){this.authService.getUserById().subscribe(t=>{this.userdata=t},t=>{console.error("Error fetching user data:",t),this.router.navigateByUrl("/login")})}enableEditing(){this.isEditing=!0}cancelEditing(){this.isEditing=!1}onUpdate(){this.authService.updateUser(this.userdata).subscribe(t=>{this.isEditing=!1,alert("Data berhasil diupdate!")},t=>{console.error("Error updating user data:",t),alert("Gagal memperbarui data pengguna. Silakan coba lagi.")})}navigateToChangePassword(){this.router.navigateByUrl("/change-pwd")}};e.\u0275fac=function(i){return new(i||e)(y(U),y(x))},e.\u0275cmp=V({type:e,selectors:[["app-user-account"]],standalone:!0,features:[D],decls:47,vars:13,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",Zt`https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css`,"rel","stylesheet"],[1,"container","container-custom","rounded","bg-white","shadow-sm","mt-5","mb-5",2,"max-width","800px"],[1,"row"],[1,"col-md-4","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px","src","https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg","alt","Profile Picture",1,"rounded-circle","mt-5"],[1,"fw-bold"],[1,"text-black-50"],[1,"col-md-8"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-end"],[1,"row","mt-2"],[1,"col-md-12"],[1,"form-label"],["name","username","type","text","placeholder","Username",1,"form-control",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","Email Address",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mt-3"],["name","first_name","type","text","placeholder","First Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12","mt-2"],["name","last_name","type","text","placeholder","Last Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-5","d-flex","justify-content-end"],["class","btn btn-primary me-2","type","button",3,"click",4,"ngIf"],["class","btn btn-secondary me-2","type","button",3,"click",4,"ngIf"],["class","btn btn-success me-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success","me-2",3,"click"]],template:function(i,o){i&1&&(s(0,"html",0)(1,"head"),F(2,"meta",1)(3,"meta",2),s(4,"title"),l(5,"User Profile"),a(),F(6,"link",3),a(),s(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),F(12,"img",8),s(13,"span",9),l(14),a(),s(15,"span",10),l(16),a()()(),s(17,"div",11)(18,"div",12)(19,"div",13)(20,"h4",14),l(21,"Account Settings"),a()(),s(22,"div",15)(23,"div",16)(24,"label",17),l(25,"Username"),a(),s(26,"input",18),w("ngModelChange",function(m){return b(o.userdata.username,m)||(o.userdata.username=m),m}),a()()(),s(27,"div",15)(28,"div",16)(29,"label",17),l(30,"Email Address"),a(),s(31,"input",19),w("ngModelChange",function(m){return b(o.userdata.email,m)||(o.userdata.email=m),m}),a()()(),s(32,"div",20)(33,"div",16)(34,"label",17),l(35,"First Name"),a(),s(36,"input",21),w("ngModelChange",function(m){return b(o.userdata.first_name,m)||(o.userdata.first_name=m),m}),a()(),s(37,"div",22)(38,"label",17),l(39,"Last Name"),a(),s(40,"input",23),w("ngModelChange",function(m){return b(o.userdata.last_name,m)||(o.userdata.last_name=m),m}),a()()(),s(41,"div",24),p(42,uo,2,0,"button",25)(43,co,2,0,"button",26)(44,mo,2,0,"button",27),s(45,"button",28),M("click",function(){return o.navigateToChangePassword()}),l(46,"Change Password"),a()()()()()()()()),i&2&&(d(14),K(o.userdata.username),d(2),K(o.userdata.email),d(10),C("ngModel",o.userdata.username),le("readonly",o.isEditing?null:!0),d(5),C("ngModel",o.userdata.email),le("readonly",o.isEditing?null:!0),d(5),C("ngModel",o.userdata.first_name),le("readonly",o.isEditing?null:!0),d(4),C("ngModel",o.userdata.last_name),le("readonly",o.isEditing?null:!0),d(2),u("ngIf",!o.isEditing),d(),u("ngIf",o.isEditing),d(),u("ngIf",o.isEditing))},dependencies:[j,T,R,W,H,J],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;background-color:#ba181b;overflow-x:hidden}.container-custom[_ngcontent-%COMP%]{margin-top:100px;padding:20px}.profile-button[_ngcontent-%COMP%]{width:100%}.btn-red[_ngcontent-%COMP%]{background-color:#bf0a30;color:#fff}.vh-100[_ngcontent-%COMP%]{height:100vh!important}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ba181b}.profile-button[_ngcontent-%COMP%]{background:#ba181b;box-shadow:none;border:none}.profile-button[_ngcontent-%COMP%]:hover, .profile-button[_ngcontent-%COMP%]:focus, .profile-button[_ngcontent-%COMP%]:active{background:#bf0a30;box-shadow:none}.back[_ngcontent-%COMP%]:hover{color:#ba181b;cursor:pointer}.labels[_ngcontent-%COMP%]{font-size:11px}.custom-button[_ngcontent-%COMP%]{background-color:#ba181b!important;border-color:#ba181b!important;color:#fff}.small-text[_ngcontent-%COMP%]{font-size:.75rem}"]});let n=e;return n})();function po(n,e){n&1&&(s(0,"div",22)(1,"span",23),l(2,"Password harus memiliki setidaknya 8 karakter, 1 huruf besar, 1 huruf kecil, 1 angka, dan 1 simbol."),a()())}function ho(n,e){n&1&&(s(0,"div",22)(1,"span",23),l(2,"Password konfirmasi tidak cocok."),a()())}var ni=(()=>{let e=class e{constructor(t,i){this.http=t,this.router=i,this.manualChangePassword={oldPassword:"",newPassword:"",confirmNewPassword:""},this.passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/}updatePassword(){this.http.put("/update-password",{currentPassword:this.manualChangePassword.oldPassword,newPassword:this.manualChangePassword.newPassword,confNewPassword:this.manualChangePassword.confirmNewPassword}).subscribe(t=>{alert(t.msg||"Password berhasil diperbarui"),this.router.navigate(["/user-account"])},t=>{alert(t.error.msg||"Terjadi kesalahan saat memperbarui password"),window.location.reload()})}navigateToUserAccount(){this.router.navigate(["/user-account"])}};e.\u0275fac=function(i){return new(i||e)(y(Y),y(x))},e.\u0275cmp=V({type:e,selectors:[["app-change-password"]],standalone:!0,features:[D],decls:33,vars:5,consts:[[1,"vh-100",2,"background-color","#BA181B"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card"],[1,"row","g-2"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-3"],["for","oldPassword",1,"form-label"],["name","oldPassword","type","password","id","oldPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["for","newPassword",1,"form-label"],["name","newPassword","type","password","id","newPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["class","text-danger mt-1",4,"ngIf"],["for","confirmNewPassword",1,"form-label"],["name","confirmNewPassword","type","password","id","confirmNewPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","pt-1","mb-3"],["type","button",1,"btn","btn-red","btn-lg",3,"click"],["type","button",1,"btn","btn-secondary","btn-lg",3,"click"],[1,"mb-4","pb-lg-2"],["routerLink","/forgot-pwd"],[1,"text-danger","mt-1"],[1,"small-text"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),l(9,"Ubah Password"),a(),s(10,"form")(11,"div",9)(12,"label",10),l(13,"Password Lama"),a(),s(14,"input",11),w("ngModelChange",function(m){return b(o.manualChangePassword.oldPassword,m)||(o.manualChangePassword.oldPassword=m),m}),a()(),s(15,"div",9)(16,"label",12),l(17,"Password Baru"),a(),s(18,"input",13),w("ngModelChange",function(m){return b(o.manualChangePassword.newPassword,m)||(o.manualChangePassword.newPassword=m),m}),a(),p(19,po,3,0,"div",14),a(),s(20,"div",9)(21,"label",15),l(22,"Konfirmasi Password Baru"),a(),s(23,"input",16),w("ngModelChange",function(m){return b(o.manualChangePassword.confirmNewPassword,m)||(o.manualChangePassword.confirmNewPassword=m),m}),a(),p(24,ho,3,0,"div",14),a(),s(25,"div",17)(26,"button",18),M("click",function(){return o.updatePassword()}),l(27,"Ganti Password"),a(),s(28,"button",19),M("click",function(){return o.navigateToUserAccount()}),l(29,"Cancel"),a()(),s(30,"p",20)(31,"a",21),l(32,"Lupa Password?"),a()()()()()()()()()()()),i&2&&(d(14),C("ngModel",o.manualChangePassword.oldPassword),d(4),C("ngModel",o.manualChangePassword.newPassword),d(),u("ngIf",o.manualChangePassword.newPassword&&!o.passwordPattern.test(o.manualChangePassword.newPassword)),d(4),C("ngModel",o.manualChangePassword.confirmNewPassword),d(),u("ngIf",o.manualChangePassword.confirmNewPassword&&o.manualChangePassword.confirmNewPassword!==o.manualChangePassword.newPassword))},dependencies:[R,ne,W,H,te,$,J,oe,j,T,pe,st],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem;max-width:700px;margin:auto;padding:0rem;overflow:hidden}.btn-red[_ngcontent-%COMP%]{background-color:#bf0a30;color:#fff}.container[_ngcontent-%COMP%]{padding-bottom:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}.vh-100[_ngcontent-%COMP%]{height:100vh}"]});let n=e;return n})();var ii=(()=>{let e=class e{constructor(t,i){this.http=t,this.router=i,this.forgotPwd={email:""}}onSubmit(){this.http.post("/forgot-password",{email:this.forgotPwd.email}).subscribe(t=>{alert(`Email reset password berhasil dikirim ke ${this.forgotPwd.email}`),this.router.navigate(["/login"])},t=>{alert(`Terjadi kesalahan: ${t.error.msg||"Kesalahan tidak diketahui"}`),window.location.reload()})}};e.\u0275fac=function(i){return new(i||e)(y(Y),y(x))},e.\u0275cmp=V({type:e,selectors:[["app-forgot-pwd"]],standalone:!0,features:[D],decls:20,vars:1,consts:[[1,"vh-100",2,"background-color","#BA181B"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem","max-width","700px","margin","auto"],[1,"row","g-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-outline","mb-4"],["name","email","type","email","id","emailInput","placeholder","Masukkan email Anda","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-custom-red"],["routerLink","/login",1,"ml-3","mb-0","pb-0"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),l(9,"Lupa password?"),a(),s(10,"p"),l(11,"Masukkan email Anda untuk mengatur ulang password."),a(),s(12,"form",9),M("ngSubmit",function(){return o.onSubmit()}),s(13,"div",10)(14,"input",11),w("ngModelChange",function(m){return b(o.forgotPwd.email,m)||(o.forgotPwd.email=m),m}),a()(),s(15,"div",12)(16,"button",13),l(17,"Reset Password"),a(),s(18,"a",14),l(19,"Login"),a()()()()()()()()()()()),i&2&&(d(14),C("ngModel",o.forgotPwd.email))},dependencies:[R,ne,W,H,te,$,J,oe,ot,pe,st],styles:[".btn-custom-red[_ngcontent-%COMP%]{background-color:#bf0a30;color:#fff;border:none}.btn-custom-red[_ngcontent-%COMP%]:hover{background-color:#a30d29}"]});let n=e;return n})();function fo(n,e){n&1&&(s(0,"div",19)(1,"span",20),l(2,"Password harus memiliki setidaknya 8 karakter, 1 huruf besar, 1 huruf kecil, 1 angka, dan 1 simbol."),a()())}function go(n,e){n&1&&(s(0,"div",19)(1,"span",20),l(2,"Password konfirmasi tidak cocok."),a()())}function _o(n,e){if(n&1&&(s(0,"div",21),l(1),a()),n&2){let r=h();d(),Be(" ",r.resetMessage," ")}}var ri=(()=>{let e=class e{constructor(){this.route=B(Pe),this.http=B(Y),this.router=B(x),this.apiUrl="http://localhost:5000",this.forgotPassword={newPassword:"",confirmNewPassword:""},this.token=null,this.resetMessage="",this.passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}resetPass(){if(this.token){if(!this.passwordPattern.test(this.forgotPassword.newPassword)){this.resetMessage="Password harus memiliki setidaknya 8 karakter, 1 huruf besar, 1 huruf kecil, 1 angka, dan 1 simbol.",alert(this.resetMessage);return}if(this.forgotPassword.newPassword!==this.forgotPassword.confirmNewPassword){this.resetMessage="Password konfirmasi tidak cocok.",alert(this.resetMessage);return}this.http.post(`${this.apiUrl}/reset-password/${this.token}`,{newPassword:this.forgotPassword.newPassword,confNewPassword:this.forgotPassword.confirmNewPassword}).subscribe(t=>{this.resetMessage=t.msg||"Password berhasil diperbarui",alert(this.resetMessage),window.location.href=`${this.apiUrl}/login`},t=>{this.resetMessage=t.error.msg||"Terjadi kesalahan saat memperbarui password",alert(this.resetMessage),console.error("Error saat memperbarui password",t),window.location.reload()})}else this.resetMessage="Token tidak ditemukan",alert(this.resetMessage)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=V({type:e,selectors:[["app-change-password-forgot"]],standalone:!0,features:[D],decls:25,vars:5,consts:[[1,"vh-100",2,"background-color","#BA181B"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card"],[1,"row","g-2"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[3,"ngSubmit"],[1,"form-outline","mb-3"],["for","newPassword",1,"form-label"],["name","newPassword","type","password","id","newPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["class","text-danger mt-1",4,"ngIf"],["for","confirmNewPassword",1,"form-label"],["name","confirmNewPassword","type","password","id","confirmNewPassword","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],[1,"pt-1","mb-3"],["type","submit",1,"btn","btn-red","btn-lg","btn-danger"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"text-danger","mt-1"],[1,"small-text"],["role","alert",1,"alert","alert-info"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),l(9,"Ubah Password"),a(),s(10,"form",9),M("ngSubmit",function(){return o.resetPass()}),s(11,"div",10)(12,"label",11),l(13,"Password Baru"),a(),s(14,"input",12),w("ngModelChange",function(m){return b(o.forgotPassword.newPassword,m)||(o.forgotPassword.newPassword=m),m}),a(),p(15,fo,3,0,"div",13),a(),s(16,"div",10)(17,"label",14),l(18,"Konfirmasi Password Baru"),a(),s(19,"input",15),w("ngModelChange",function(m){return b(o.forgotPassword.confirmNewPassword,m)||(o.forgotPassword.confirmNewPassword=m),m}),a(),p(20,go,3,0,"div",13),a(),s(21,"div",16)(22,"button",17),l(23,"Reset Password"),a()(),p(24,_o,2,1,"div",18),a()()()()()()()()()),i&2&&(d(14),C("ngModel",o.forgotPassword.newPassword),d(),u("ngIf",o.forgotPassword.newPassword&&!o.passwordPattern.test(o.forgotPassword.newPassword)),d(4),C("ngModel",o.forgotPassword.confirmNewPassword),d(),u("ngIf",o.forgotPassword.confirmNewPassword&&o.forgotPassword.confirmNewPassword!==o.forgotPassword.newPassword),d(4),u("ngIf",o.resetMessage))},dependencies:[j,T,R,ne,W,H,te,$,J,oe,pe]});let n=e;return n})();function vo(n,e){n&1&&(s(0,"h2",13),l(1,"Menverifikasi Akun..."),a())}function yo(n,e){n&1&&(s(0,"h2",13),l(1,"Akun Anda telah teraktivasi!"),a())}function Co(n,e){n&1&&(s(0,"h2",13),l(1,"Terjadi Kesalahan!"),a())}function bo(n,e){n&1&&(s(0,"p"),l(1,"Terima kasih telah mendaftar. Silakan klik tombol di bawah ini untuk login akun Anda."),a())}function wo(n,e){n&1&&(s(0,"p"),l(1,"Terjadi kesalahan saat mengaktifkan akun Anda. Pastikan token yang Anda gunakan valid."),a())}function Mo(n,e){n&1&&(s(0,"p"),l(1,"Silakan klik tombol di bawah untuk mengirim ulang email verifikasi."),a())}function xo(n,e){n&1&&(s(0,"a",14),l(1,"Login"),a())}function ko(n,e){if(n&1){let r=k();s(0,"button",15),M("click",function(){_(r);let i=h();return v(i.resendVerificationEmail())}),l(1,"Kirim Ulang Email Verifikasi"),a()}}function Eo(n,e){if(n&1&&(s(0,"p",16),l(1),a()),n&2){let r=h();d(),K(r.activationMessage)}}var oi=(()=>{let e=class e{constructor(){this.route=B(Pe),this.http=B(Y),this.router=B(x),this.apiUrl="http://localhost:5000",this.activationMessage=""}ngOnInit(){let t=this.route.snapshot.paramMap.get("token");t?this.activateAccount(t):this.activationMessage="Token tidak ditemukan."}activateAccount(t){t?this.http.get(`${this.apiUrl}/activation/${t}`).subscribe(i=>{this.activationMessage="Akun Anda telah berhasil diaktifkan!"},i=>{this.activationMessage="Gagal mengaktifkan akun. Token mungkin tidak valid atau sudah kadaluwarsa.",console.error("Gagal mengaktifkan akun",i)}):this.activationMessage="Token tidak ditemukan."}resendVerificationEmail(){let t=prompt("Masukkan email Anda untuk mengirim ulang verifikasi:");t&&this.http.post(`${this.apiUrl}/resend-verification-email`,{email:t}).subscribe(i=>{this.activationMessage="Email verifikasi telah dikirim ulang. Silakan periksa email Anda."},i=>{this.activationMessage="Gagal mengirim ulang email verifikasi. Pastikan email yang Anda masukkan benar.",console.error("Gagal mengirim ulang email verifikasi",i)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=V({type:e,selectors:[["app-activate-account"]],standalone:!0,features:[D],decls:17,vars:9,consts:[[1,"vh-100",2,"background-color","#BA181B"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem","max-width","700px","margin","auto"],[1,"row","g-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],["class","mb-4",4,"ngIf"],[4,"ngIf"],["href","http://localhost:5000/login","class","btn btn-custom-red",4,"ngIf"],["class","btn btn-custom-red",3,"click",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"mb-4"],["href","http://localhost:5000/login",1,"btn","btn-custom-red"],[1,"btn","btn-custom-red",3,"click"],[1,"mt-4"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),p(8,vo,2,0,"h2",8)(9,yo,2,0,"h2",8)(10,Co,2,0,"h2",8)(11,bo,2,0,"p",9)(12,wo,2,0,"p",9)(13,Mo,2,0,"p",9)(14,xo,2,0,"a",10)(15,ko,2,0,"button",11)(16,Eo,2,1,"p",12),a()()()()()()()()),i&2&&(d(8),u("ngIf",!o.activationMessage),d(),u("ngIf",o.activationMessage.includes("berhasil")),d(),u("ngIf",o.activationMessage.includes("Gagal")),d(),u("ngIf",o.activationMessage.includes("berhasil")),d(),u("ngIf",o.activationMessage.includes("Gagal")),d(),u("ngIf",o.activationMessage.includes("Gagal")),d(),u("ngIf",o.activationMessage.includes("berhasil")),d(),u("ngIf",o.activationMessage.includes("Gagal")),d(),u("ngIf",o.activationMessage))},dependencies:[j,T,ot],styles:[".btn-custom-red[_ngcontent-%COMP%]{background-color:#bf0a30;color:#fff;border:none}.btn-custom-red[_ngcontent-%COMP%]:hover{background-color:#a30d29}"]});let n=e;return n})();var ai=(()=>{let e=class e{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){let o=t.data.expectedRole;return this.authService.getUserRole().pipe(ae(c=>c!==o?(alert("Anda tidak memiliki akses ke halaman ini!"),this.router.navigate(["/dashboard"]),!1):!0),E(()=>(alert("Terjadi kesalahan! Anda tidak dapat mengakses halaman ini."),this.router.navigate(["/dashboard"]),I(!1))))}};e.\u0275fac=function(i){return new(i||e)(A(U),A(x))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var zt=(()=>{let e=class e{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.getUserRegistrationStatus().pipe(ae(o=>o&&t.routeConfig?.path==="user-data"?!0:o?(alert("Anda sudah mendaftar!"),this.router.navigate(["user-data"]),!1):!o&&t.routeConfig?.path==="user-data"?(alert("Anda belum mendaftar! Silakan daftar terlebih dahulu."),this.router.navigate(["templateFormValidation"]),!1):!0),E(()=>(this.router.navigate(["login"]),I(!1))))}};e.\u0275fac=function(i){return new(i||e)(A(U),A(x))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function So(n,e){n&1&&(s(0,"p"),l(1,"Anda telah melakukan pendaftaran diklat."),a())}function Vo(n,e){n&1&&(s(0,"p"),l(1,"Silakan mendaftar diklat."),a())}var si=(()=>{let e=class e{constructor(t,i){this.router=t,this.authService=i,this.username="",this.isRegistered=!1,this.loadUserData(),this.checkRegistrationStatus()}loadUserData(){this.authService.getUserById().subscribe({next:t=>{this.username=t.username},error:t=>{console.error("Error fetching user data:",t)}})}checkRegistrationStatus(){this.authService.getUserRegistrationStatus().subscribe({next:t=>{this.isRegistered=t},error:t=>{console.error("Error checking registration status:",t)}})}navigateBasedOnRegistration(){this.isRegistered?this.router.navigate(["/user-data"]):this.router.navigate(["/templateFormValidation"])}};e.\u0275fac=function(i){return new(i||e)(y(x),y(U))},e.\u0275cmp=V({type:e,selectors:[["app-menu"]],standalone:!0,features:[D],decls:17,vars:4,consts:[["notRegistered",""],[1,"vh-100",2,"background-color","#BA181B"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem","max-width","700px","margin","auto"],[1,"row","g-0"],[1,"col-md-6","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[4,"ngIf","ngIfElse"],[1,"card-body","p-4","p-lg-5","text-black","d-flex","justify-content-end"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){if(i&1){let c=k();s(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h2"),l(9),a(),p(10,So,2,0,"p",9)(11,Vo,2,0,"ng-template",null,0,Xt),a()(),s(13,"div",7)(14,"div",10)(15,"button",11),M("click",function(){return _(c),v(o.navigateBasedOnRegistration())}),l(16),a()()()()()()()()()}if(i&2){let c=g(12);d(9),Be("Selamat Datang, ",o.username,"!"),d(),u("ngIf",o.isRegistered)("ngIfElse",c),d(6),Be(" ",o.isRegistered?"Lihat Data":"Daftar"," ")}},dependencies:[j,T],styles:["h2[_ngcontent-%COMP%]{color:#ba181b;font-weight:700}h3[_ngcontent-%COMP%]{color:#ba181b;margin-top:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#ba181b;border-color:#ba181b;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9e1516;border-color:#9e1516}"]});let n=e;return n})();function Do(n,e){if(n&1){let r=k();s(0,"li",8)(1,"a",9),M("click",function(){_(r);let i=h(2);return v(i.navigateToRegister())}),l(2,"Data Diklat"),a()()}}function Po(n,e){if(n&1){let r=k();s(0,"li",8)(1,"a",9),M("click",function(){_(r);let i=h(2);return v(i.navigateToRegister())}),l(2,"Daftar Diklat"),a()()}}function Fo(n,e){if(n&1){let r=k();s(0,"nav",1)(1,"div",2)(2,"a",3),l(3,"Selamat Datang, User!"),a(),s(4,"button",4),F(5,"span",5),a(),s(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),M("click",function(){_(r);let i=h();return v(i.navigateToHome())}),l(10,"Beranda"),a()(),s(11,"li",8)(12,"a",9),M("click",function(){_(r);let i=h();return v(i.navigateToUserAccount())}),l(13,"Profil"),a()(),p(14,Do,3,0,"li",10)(15,Po,3,0,"li",10),s(16,"li",8)(17,"button",11),M("click",function(){_(r);let i=h();return v(i.logout())}),l(18,"Log Out"),a()()()()()()}if(n&2){let r=h();d(14),u("ngIf",r.isRegistered),d(),u("ngIf",!r.isRegistered)}}var li=(()=>{let e=class e{constructor(){this.isLogin=!0,this.isRegistered=!1,this.authService=B(U),this.router=B(x)}ngOnInit(){this.checkRegistrationStatus()}checkRegistrationStatus(){this.authService.getUserRegistrationStatus().subscribe({next:t=>{this.isRegistered=t},error:t=>{console.error("Error checking registration status:",t)}})}navigateToHome(){this.router.navigate(["/home"])}navigateToUserAccount(){this.router.navigate(["/user-account"])}navigateToRegister(){this.isRegistered?this.router.navigate(["/user-data"]):this.router.navigate(["/templateFormValidation"])}logout(){this.authService.logout().subscribe(()=>{this.isLogin=!1,this.router.navigateByUrl("login"),console.log("User logged out")},t=>{console.error("Logout failed",t)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=V({type:e,selectors:[["app-layout-user"]],standalone:!0,features:[D],decls:2,vars:1,consts:[["class","navbar navbar-expand-sm","style","background-color: #F5F3F4;",4,"ngIf"],[1,"navbar","navbar-expand-sm",2,"background-color","#F5F3F4"],[1,"container-fluid"],[1,"navbar-brand","text-dark"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"nav-link","text-dark","fw-bold",3,"click"],["class","nav-item",4,"ngIf"],[1,"btn","btn-dark","btn-md","logout-btn",3,"click"]],template:function(i,o){i&1&&(p(0,Fo,19,2,"nav",0),F(1,"router-outlet")),i&2&&u("ngIf",o.isLogin)},dependencies:[j,T,at],styles:[".navbar[_ngcontent-%COMP%]{background-color:#f5f3f4;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000}.nav-link[_ngcontent-%COMP%]{font-weight:600;color:#000;transition:color .3s ease}.nav-link[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover{color:#ba181b}.logout-btn[_ngcontent-%COMP%]{background-color:#ba181b;color:#fff;border:none;transition:background-color .3s ease}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#900d0d}.navbar-toggler-icon[_ngcontent-%COMP%]{filter:invert(1)}.container-fluid[_ngcontent-%COMP%]{max-width:1200px}.collapse[_ngcontent-%COMP%]{justify-content:flex-end}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}"]});let n=e;return n})();var di=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Ht},{path:"register",component:Ht},{path:"activation/:token",component:oi},{path:"forgot-pwd",component:ii},{path:"reset-password/:token",component:ri},{path:"user",component:li,canActivate:[lt,ai],data:{expectedRole:"user"},children:[{path:"templateFormValidation",component:Yn,canActivate:[zt]},{path:"user-data",component:ei,canActivate:[zt]},{path:"user-account",component:ti},{path:"change-pwd",component:ni},{path:"home",component:si},{path:"**",redirectTo:"home"}]}];var ui=(()=>{let e=class e{constructor(t,i){this.authService=t,this.router=i,this.isRefreshing=!1,this.refreshTokenSubject=new Ye(null)}intercept(t,i){let o=t.clone({withCredentials:!0});return i.handle(o).pipe(E(c=>{let m=["/login","/register","/refresh-token","/resend-verify-email","/activation","/logout","/forgot-pwd","/change-pwd-forgot","/reset-password"];return c.status===401&&!m.some(f=>t.url.includes(f))?this.handle401Error(t,i):N(()=>c)}))}handle401Error(t,i){return this.isRefreshing?this.refreshTokenSubject.pipe(Qe(o=>o!==null),et(1),be(()=>i.handle(t.clone({withCredentials:!0})))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshToken().pipe(be(o=>(this.isRefreshing=!1,this.refreshTokenSubject.next(o.accessToken),i.handle(t.clone({withCredentials:!0})))),E(o=>(console.error("Error saat refresh token",o),this.isRefreshing=!1,o.status===401?(console.log("Logout karena refresh-token"),this.authService.logout().pipe(se(()=>{this.router.navigate(["/login"]).finally(()=>{console.log("Redirecting to login page")})}),E(c=>(console.error("Logout error:",c),this.router.navigate(["/login"]).finally(()=>{console.log("Redirecting to login page after logout failure")}),N(()=>new Error("Unauthorized access")))))):(console.error("Error during refresh token process:",o),alert("An unexpected error occurred. Please try again."),N(()=>o))))))}};e.\u0275fac=function(i){return new(i||e)(A(U),A(x))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ci={providers:[Qt({eventCoalescing:!0}),cn(di),dn(),R,an(sn()),{provide:on,useClass:ui,multi:!0}]};var Io={providers:[un()]},mi=tn(ci,Io);var Ao=()=>ln(mn,mi),tl=Ao;export{tl as a};
